# src/main/resources/application-perf.yml
# 성능 테스트 전용 프로파일
# 모든 보안 필터와 이상 감지를 비활성화하여 순수 성능 측정

spring:
  datasource:
    url: ${DB_URL}
    username: ${DB_USERNAME}
    password: ${DB_PASSWORD}
    driver-class-name: org.h2.Driver
    hikari:
      maximum-pool-size: 20  # 성능 테스트용 증가
      minimum-idle: 5

  data:
    redis:
      host: ${REDIS_HOST:localhost}
      port: ${REDIS_PORT:6379}

  jpa:
    hibernate:
      ddl-auto: update
    properties:
      hibernate:
        dialect: org.hibernate.dialect.H2Dialect
        format_sql: false  # 성능 테스트 시 불필요
        highlight_sql: false
        use_sql_comments: false
    show-sql: false  # 성능 테스트 시 로그 최소화

# 이상 감지 비활성화 (명시적으로)
monitoring:
  anomaly-detection:
    enabled: false
    sampling-rate: 1.0

# Rate Limiting 비활성화
rate-limit:
  enabled: false

# IP 차단 비활성화
ip-block:
  enabled: false

# 로깅 최소화 (성능 영향 제거)
logging:
  level:
    root: WARN
    back.fcz: INFO
    back.fcz.domain.sanction: WARN
    back.fcz.global.security.filter: WARN
    org.hibernate: WARN
    org.springframework: WARN

cors:
  allowed-origins: ${CORS_ALLOWED_ORIGINS:http://localhost:3000}
  capsule-domain: ${CORS_CAPSULE_DOMAIN:http://localhost:3000/capsules/}