spring:
  config:
    import: optional:file:.env[.properties]

  profiles:
    default: dev

  output:
    ansi:
      enabled: always

  datasource:
    hikari:
      auto-commit: true
      maximum-pool-size: 50              # 동시 접속 처리
      connection-timeout: 30000          # 커넥션 획득 타임아웃 (30초)
      leak-detection-threshold: 60000    # 커넥션 누수 감지 (60초)

  data:
    redis:
      host: localhost
      port: 6379

  jpa:
    properties:
      hibernate:
        format_sql: true
        highlight_sql: true
        use_sql_comments: true
        connection:
          isolation: 2                 # READ_COMMITTED 격리 수준
      javax:
        persistence:
          lock:
            timeout: 3000              # 비관적 락 타임아웃
    show-sql: true

  mvc:
    hiddenmethod:
      filter:
        enabled: true

springdoc:
  default-produces-media-type: application/json

logging:
  level:
    com.example.demo: INFO

security:
  encryption:
    aes-key: ${AES_KEY}
    sha-salt: ${SHA_SALT}

jwt:
  secret: ${JWT_SECRET_KEY}
  access-token:
    expiration: 10800000 # 3시간 (3 * 60 * 60 * 1000)
  refresh-token:
    expiration: 2592000000 # 30일 (30 * 24 * 60 * 60 * 1000)

cookie:
  secure: false
  same-site: Lax